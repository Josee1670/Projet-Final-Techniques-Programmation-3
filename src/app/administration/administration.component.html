<form #forfaitForm="ngForm">
  <mat-form-field appearance="fill" class="half-width">
    <mat-label>Nom du forfait</mat-label>
    <input
      name="destination"
      [(ngModel)]="forfait.destination"
      #destination="ngModel"
      matInput
      required
      minlength="2"
      maxlength="50"
      placeholder="Nom du forfait"
    />
    <mat-error
      *ngIf="
        destination.invalid &&
        (destination.dirty || destination.touched) &&
        destination.hasError('required')
      "
      >Le nom est obligatoire.</mat-error
    >
    <mat-error
      *ngIf="
        destination.invalid &&
        (destination.dirty || destination.touched) &&
        destination.hasError('minlength')
      "
      >Le nom doit contenir au moins 2 caractères.</mat-error
    >
    <mat-error
      *ngIf="
        destination.invalid &&
        (destination.dirty || destination.touched) &&
        destination.hasError('maxlength')
      "
      >Le nom doit contenir au maximum 50 caractères.</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="fill" class="half-width">
    <mat-label>Date Retour</mat-label>
    <input
      name="dateRetour"
      [(ngModel)]="forfait.dateRetour"
      #dateRetour="ngModel"
      matInput
      required
      minlength="2"
      maxlength="50"
      placeholder="Date Retour"
    />
    <mat-error
      *ngIf="
        dateRetour.invalid &&
        (dateRetour.dirty || dateRetour.touched) &&
        dateRetour.hasError('required')
      "
      >Le nom est obligatoire.</mat-error
    >
    <mat-error
      *ngIf="
        dateRetour.invalid &&
        (dateRetour.dirty || dateRetour.touched) &&
        dateRetour.hasError('minlength')
      "
      >Le nom doit contenir au moins 2 caractères.</mat-error
    >
    <mat-error
      *ngIf="
        dateRetour.invalid &&
        (dateRetour.dirty || dateRetour.touched) &&
        dateRetour.hasError('maxlength')
      "
      >Le nom doit contenir au maximum 50 caractères.</mat-error
    >
  </mat-form-field>

  <mat-form-field appearance="fill" class="half-width">
    <mat-label>Nom de l'hôtel</mat-label>
    <input
      name="nom"
      [(ngModel)]="forfait.hotel.nom"
      #nom="ngModel"
      matInput
      required
      minlength="2"
      maxlength="50"
      placeholder="Nom de l'hôtel"
    />
    <mat-error
      *ngIf="
        nom.invalid && (nom.dirty || nom.touched) && nom.hasError('required')
      "
      >Le nom est obligatoire.</mat-error
    >
    <mat-error
      *ngIf="
        nom.invalid && (nom.dirty || nom.touched) && nom.hasError('minlength')
      "
      >Le nom doit contenir au moins 2 caractères.</mat-error
    >
    <mat-error
      *ngIf="
        nom.invalid && (nom.dirty || nom.touched) && nom.hasError('maxlength')
      "
      >Le nom doit contenir au maximum 50 caractères.</mat-error
    >
  </mat-form-field>

  <mat-form-field required appearance="fill" class="half-width">
    <mat-label>Prix</mat-label>
    <input
      name="prix"
      [(ngModel)]="forfait.prix"
      #prix="ngModel"
      required
      type="number"
      step=".50"
      matInput
      placeholder="Ex. 10.00"
    />
    <mat-error
      *ngIf="
        prix.invalid &&
        (prix.dirty || prix.touched) &&
        prix.hasError('required')
      "
      >Le prix est obligatoire.</mat-error
    >
    <span matSuffix>$&nbsp;</span>
  </mat-form-field>

  <button
    matSuffix
    type="submit"
    mat-icon-button
    color="primary"
    [disabled]="!forfaitForm.form.valid"
    (click)="onSave(forfaitForm)"
  >
    <i class="material-icons">add</i>
  </button>
  <app-tableau-forfaits></app-tableau-forfaits>
</form>
